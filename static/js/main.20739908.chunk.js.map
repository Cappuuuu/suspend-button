{"version":3,"sources":["../../../mob/suspend-button/src/index.jsx","../../../mob/suspend-button/example/src/App.js","../../../mob/suspend-button/example/src/index.js","../../../mob/suspend-button/example/src/logo.svg"],"names":["suspendButton","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","oLeft","oTop","$vm","moving","lastX","lastY","oW","oH","htmlWidth","htmlHeight","bWidth","bHeight","click","e","touches","clientX","getBoundingClientRect","left","clientY","top","offsetWidth","offsetHeight","setState","className","onClick","addEventListener","cancelable","preventDefault","passive","document","documentElement","clientWidth","clientHeight","onMove","_this2","img","_react_16_8_6_react_default","a","createElement","ref","onTouchStart","onTouchMove","onTouchEnd","style","concat","src","alt","Component","App","src_1","logo","ReactDOM","render","src_App","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.20739908.chunk.js","sourcesContent":["import React, { Component } from \"react\"\nimport \"./index.css\"\n\nclass suspendButton extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      oLeft: \"\",\n      oTop: \"\"\n    }\n    this.$vm = null // 悬浮按钮\n    this.moving = false // 移动状态\n\n    this.lastX = null // 偏移量\n    this.lastY = null\n\n    this.oW = null // 悬钮距离\n    this.oH = null\n\n    this.htmlWidth = null // 页面宽度\n    this.htmlHeight = null\n\n    this.bWidth = null // 悬钮宽度\n    this.bHeight = null\n\n    this.click = false // 是否是点击\n  }\n\n  // 移动触发\n  onTouchStart(e) {\n    e = e.touches[0]\n    this.click = true\n\n    this.oW = e.clientX - this.$vm.getBoundingClientRect().left\n    this.oH = e.clientY - this.$vm.getBoundingClientRect().top\n\n    this.bWidth = this.$vm.offsetWidth\n    this.bHeight = this.$vm.offsetHeight\n\n    let oLeft = e.clientX - this.oW\n    let oTop = e.clientY - this.oH\n    this.setState({\n      oLeft,\n      oTop\n    })\n\n    this.moving = true\n  }\n\n  // 移动结束\n  onTouchEnd(e) {\n    this.moving = false\n\n    this.$vm.className = this.$vm.className + \" t-suspend-button-animate\"\n\n    // 左侧距离\n    let oLeft = this.state.oLeft\n    if (oLeft < (this.htmlWidth - this.bWidth) / 2) {\n      oLeft = 0\n    } else {\n      oLeft = this.htmlWidth - this.bWidth\n    }\n\n    if (this.click) {\n      this.props.onClick()\n    }\n    // }\n    // if(oTop < 0) {\n    //   oTop = 0\n    // } else if (oTop > this.htmlHeight - this.bHeight) {\n    //   oTop = this.htmlHeight - this.bHeight\n    // }\n\n    this.setState({\n      oLeft\n      // oTop\n    })\n  }\n\n  componentDidMount() {\n    this.$vm.addEventListener(\n      \"touchmove\",\n      e => {\n        if (e.cancelable) {\n          e.preventDefault()\n        }\n      },\n      {\n        passive: false\n      }\n    )\n\n    this.htmlWidth = document.documentElement.clientWidth\n    this.htmlHeight = document.documentElement.clientHeight\n  }\n\n  // 开始移动\n  onTouchMove(e) {\n    this.$vm.className = \"t-suspend-button\"\n    this.moving && this.onMove(e)\n  }\n\n  // 移动中\n  onMove(e) {\n    e = e.touches[0]\n    this.click = false\n\n    // 左侧距离\n    let oLeft = e.clientX - this.oW\n    let oTop = e.clientY - this.oH\n    if (oLeft < 0) {\n      oLeft = 0\n    } else if (oLeft > this.htmlWidth - this.bWidth) {\n      oLeft = this.htmlWidth - this.bWidth\n    }\n    if (oTop < 0) {\n      oTop = 0\n    } else if (oTop > this.htmlHeight - this.bHeight) {\n      oTop = this.htmlHeight - this.bHeight\n    }\n\n    this.setState({\n      oLeft,\n      oTop\n    })\n  }\n\n  render() {\n    const { img } = this.props\n    return (\n      <span\n        className=\"t-suspend-button\"\n        ref={$vm => (this.$vm = $vm)}\n        onTouchStart={e => this.onTouchStart(e)}\n        onTouchMove={e => this.onTouchMove(e)}\n        onTouchEnd={e => this.onTouchEnd(e)}\n        style={{\n          left: `${this.state.oLeft}px`,\n          top: `${this.state.oTop}px`\n        }}\n      >\n        <img src={img} alt=\"\" />\n      </span>\n    )\n  }\n}\n\nexport default suspendButton\n","import React, { Component } from 'react';\nimport SuspendButton from '../../src'\nimport logo from './logo.svg'\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <p>测试</p>\n        <SuspendButton img={logo}></SuspendButton>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";"],"sourceRoot":""}